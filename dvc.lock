schema: '2.0'
stages:
  transform:
    cmd:
    - ./src/ingest/transform.py data/interim/raw/train.pkl standard train data/interim/scaled
    - ./src/ingest/transform.py data/interim/raw/test.pkl standard test data/interim/scaled
    - ./src/ingest/transform.py data/interim/raw/train.pkl min_max train data/interim/scaled
    - ./src/ingest/transform.py data/interim/raw/test.pkl min_max test data/interim/scaled
    - ./src/ingest/transform.py data/interim/raw/train.pkl max_abs train data/interim/scaled
    - ./src/ingest/transform.py data/interim/raw/test.pkl max_abs test data/interim/scaled
    - ./src/ingest/transform.py data/interim/raw/train.pkl power train data/interim/scaled
    - ./src/ingest/transform.py data/interim/raw/test.pkl power test data/interim/scaled
    deps:
    - path: data/interim/raw/test.pkl
      md5: dc8c1e5c9de61f1913c2758063d83c62
      size: 5900988
    - path: data/interim/raw/train.pkl
      md5: dcad9d5031cfdd72dbf340a9a4a8b2d3
      size: 1449931
    - path: data/interim/raw/validation.pkl
      md5: 16041057c78596e514026f500e5f38c0
      size: 396014
  load:
    cmd:
    - ./src/ingest/load.py data/raw/ CVE-2012-2122 train data/interim/CVE-2012-2122/
    - ./src/ingest/load.py data/raw/ CVE-2012-2122 test data/interim/CVE-2012-2122/
    - ./src/ingest/load.py data/raw/ CVE-2012-2122 validation data/interim/CVE-2012-2122/
    deps:
    - path: data/raw/
      md5: 862c58e792b004f6859739f3ece2280b.dir
      size: 60453410132
      nfiles: 11835
    outs:
    - path: data/interim/CVE-2012-2122/test.csv
      md5: 05ab83c2576d1faa769dd912668ea5aa
      size: 4426146
    - path: data/interim/CVE-2012-2122/train.csv
      md5: b403a579d857ade8c3e5639ae6512715
      size: 333343
    - path: data/interim/CVE-2012-2122/validation.csv
      md5: fbfd9d910c92788e952a9a4b61d75aa0
      size: 89881
    - path: data/interim/CVE-2012-2122/y_test.csv
      md5: f916ea897a41155ce25f85dd817aff0f
      size: 1052419
    - path: data/interim/CVE-2012-2122/y_train.csv
      md5: 3eb8e8675dbb1349685848b2a1ffb6d6
      size: 66211
  training:
    cmd:
    - ./src/model/train.py data/interim/ data/model/CVE-2012-2122 CVE-2012-2122 IForest
    deps:
    - path: data/interim
      md5: 4109198ac7bd61bbbc814f55aaeeb49e.dir
      size: 71869934
      nfiles: 36
    outs:
    - path: data/model/CVE-2012-2122/IForest.pkl
      md5: 0eab93aa41c7671b7ac4238ccd3e2ac5
      size: 1145995
  predict:
    cmd:
    - ./src/model/predict.py data/interim/ data/predictions/ CVE-2012-2122 IForest
    deps:
    - path: data/interim/
      md5: 4109198ac7bd61bbbc814f55aaeeb49e.dir
      size: 71869934
      nfiles: 36
    outs:
    - path: data/predictions/CVE-2012-2122/predictions.csv
      md5: 0c76b6e84803d20f9e267b57d7c085b0
      size: 7084879
  evaluate:
    cmd:
    - ./src/model/evaluate.py data/interim data/predictions src/results/metrics CVE-2012-2122
    outs:
    - path: src/results/metrics/results.csv
      md5: 133ecdf286b8914dc3269180b28d488d
      size: 517137
  plot:
    cmd:
    - ./src/model/table.py src/results/metrics/metrics.json > src/results/plots/table.md
    outs:
    - path: src/results/plots/table.md
      md5: 4acdf76039399d88a794b2d16be36549
      size: 340
